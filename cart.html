<!DOCTYPE html>
<html lang='en'>
<head>
  <meta charset='utf-8'>
  <meta name='viewport' content='width=device-width, initial-scale=1'>
  <title>Niyantri House - Cart</title>
  <script src='https://cdn.tailwindcss.com'></script>
  <link href='https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Playfair+Display:wght@600;700&display=swap' rel='stylesheet'>
  <link rel='stylesheet' href='https://unpkg.com/swiper/swiper-bundle.min.css'/>
  <script src='https://unpkg.com/swiper/swiper-bundle.min.js'></script>
</head>
<body class='opacity-0 transition-opacity duration-700' style='font-family: Inter, ui-sans-serif, system-ui;'>
  <header class='bg-white/70 backdrop-blur-xl sticky top-0 z-50 shadow-sm'>
    <nav class='max-w-7xl mx-auto px-4 sm:px-6 lg:px-8'>
      <div class='flex items-center justify-between h-16'>
        <div class='flex items-center space-x-3'>
          <svg width='32' height='32' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg' aria-label='Niyantri House logo'>
            <circle cx='12' cy='12' r='10' stroke='#f59e0b' stroke-width='2'/>
            <path d='M8 12h8' stroke='#f59e0b' stroke-width='2' stroke-linecap='round'/>
          </svg>
          <a href='index.html' class='text-xl font-bold' style='font-family: Playfair Display, serif;'>Niyantri House</a>
        </div>
        <div class='hidden md:flex space-x-6'>
          <a href='index.html' class='text-gray-700 hover:text-black px-3 py-2 rounded-md text-sm font-medium'>Home</a>
          <a href='menu.html' class='text-gray-700 hover:text-black px-3 py-2 rounded-md text-sm font-medium'>Menu</a>
          <a href='cart.html' class='text-gray-700 hover:text-black px-3 py-2 rounded-md text-sm font-medium'>Cart (<span id='cart-count'>0</span>)</a>
          <a href='about.html' class='text-gray-700 hover:text-black px-3 py-2 rounded-md text-sm font-medium'>About</a>
          <a href='contact.html' class='text-gray-700 hover:text-black px-3 py-2 rounded-md text-sm font-medium'>Contact</a>
        </div>
        <div class='md:hidden'>
          <button id='mobile-menu' class='text-gray-700 focus:outline-none'>
            <svg width='24' height='24' fill='none' stroke='currentColor' viewBox='0 0 24 24'>
              <path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M4 6h16M4 12h16M4 18h16'/>
            </svg>
          </button>
        </div>
      </div>
    </nav>
    <div id='mobile-menu-panel' class='hidden md:hidden bg-white/90 backdrop-filter backdrop-blur-lg'>
      <a href='index.html' class='block px-4 py-2'>Home</a>
      <a href='menu.html' class='block px-4 py-2'>Menu</a>
      <a href='cart.html' class='block px-4 py-2'>Cart (<span id='cart-count-sm'>0</span>)</a>
      <a href='about.html' class='block px-4 py-2'>About</a>
      <a href='contact.html' class='block px-4 py-2'>Contact</a>
    </div>
  </header>

  <main class='container mx-auto px-4 py-8'>
    <section class='reveal'>
      <h1 class='text-3xl font-extrabold' style='font-family: Playfair Display, serif;'>Your Cart</h1>
      <p class='text-gray-700'>Review your items below. You can modify quantities in a real app; here we keep it simple.</p>
    </section>

    <section id='cart-section' class='reveal mt-6'>
      <div id='cart-items-container' class='space-y-4'></div>
      <div class='flex justify-between items-center border-t pt-4 mt-4'>
        <span class='text-lg font-semibold'>Total</span>
        <span class='text-xl font-bold' id='cart-total'>0.00</span>
      </div>
      <div class='mt-4 flex items-center gap-4'>
        <button onclick='proceedToCheckout()' class='bg-yellow-500 text-black px-4 py-2 rounded'>Proceed to Checkout</button>
        <div id='paypal-button-container'></div>
      </div>
    </section>
  </main>

  <footer class='bg-gray-800 text-white py-6 mt-8'>
    <div class='container mx-auto px-4 text-center'>
      <p>&copy; 2025 Niyantri House. All rights reserved.</p>
    </div>
  </footer>

  <script>
    function getCart(){ try { return JSON.parse(localStorage.getItem('shoppingCart')) || []; } catch(e){ return []; } }
    function saveCart(cart){ localStorage.setItem('shoppingCart', JSON.stringify(cart)); updateCartCount(); }
    function updateCartCount(){ const cart = getCart(); const total = cart.reduce((sum, item) => sum + (item.quantity || 0), 0); const el = document.getElementById('cart-count'); if (el) el.textContent = total; const elSm = document.getElementById('cart-count-sm'); if (elSm) elSm.textContent = total; }
    function renderCartPage(){ /* Re-used from index/menu for consistency */ const cart = getCart(); const container = document.getElementById('cart-items-container'); const totalEl = document.getElementById('cart-total'); if (!container || !totalEl) return; container.innerHTML = ''; if (cart.length === 0) { container.innerHTML = '<p>Your cart is empty.</p>'; totalEl.textContent = '0.00'; return; } let total = 0; cart.forEach(item => { const row = document.createElement('div'); row.className = 'flex justify-between items-center border-b py-2'; row.innerHTML = `<span>${item.name} (x${item.quantity})</span><div><span>$${(item.price * item.quantity).toFixed(2)}</span><button onclick='removeFromCart("${item.id}")' class='ml-4 text-red-500 hover:text-red-700'>Remove</button></div>`; container.appendChild(row); total += item.price * item.quantity; }); totalEl.textContent = total.toFixed(2); }
    function removeFromCart(id){ let cart = getCart(); cart = cart.filter(i => i.id !== id); saveCart(cart); renderCartPage(); }
    function proceedToCheckout(){ const cart = getCart(); if (cart.length > 0) { window.location.href = './checkout.html'; } else { alert('Your cart is empty.'); } }

    document.addEventListener('DOMContentLoaded', () => {
      updateCartCount();
      document.body.classList.remove('opacity-0');
      const reveals = document.querySelectorAll('.reveal'); const io = new IntersectionObserver((entries) => { entries.forEach(e => { if (e.isIntersecting) { e.target.classList.remove('opacity-0','translate-y-6'); e.target.classList.add('opacity-100','translate-y-0'); } }); }, { threshold: 0.1 }); reveals.forEach(r => { if (!r.classList.contains('opacity-100')) { r.classList.add('opacity-0','translate-y-6'); io.observe(r); } });
      // Mobile menu toggle
      const btn = document.getElementById('mobile-menu'); if (btn){ btn.addEventListener('click', () => { const panel = document.getElementById('mobile-menu-panel'); panel.classList.toggle('hidden'); }); }
      renderCartPage();
    });
  </script>
  <script src='https://www.paypal.com/sdk/js?client-id=sb&currency=USD'></script>
  <script>
    // PayPal on cart page
    document.addEventListener('DOMContentLoaded', () => {
      if (document.getElementById('paypal-button-container')) {
        const cart = getCart(); const total = cart.reduce((sum, i) => sum + i.price * i.quantity, 0).toFixed(2);
        if (typeof paypal !== 'undefined') {
          paypal.Buttons({ createOrder: (data, actions) => actions.order.create({ purchase_units: [{ amount: { value: total } }] }), onApprove: (data, actions) => actions.order.capture().then(details => { alert('Payment completed by ' + details.payer.name.given_name); localStorage.removeItem('shoppingCart'); updateCartCount(); renderCartPage(); }) }).render('#paypal-button-container');
        }
      }
    });
  </script>
</body>
</html>